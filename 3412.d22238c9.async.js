(self.webpackChunkHDesign=self.webpackChunkHDesign||[]).push([[3412],{53679:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";var _workspaces_h_design_node_modules_pnpm_babel_runtime_7_23_6_node_modules_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15558),_workspaces_h_design_node_modules_pnpm_babel_runtime_7_23_6_node_modules_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_workspaces_h_design_node_modules_pnpm_babel_runtime_7_23_6_node_modules_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(75271),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(52676);function useMasonryCards(_ref){var gap=_ref.gap,col=_ref.col,currentItemMinWidth=_ref.currentItemMinWidth,currentItemMaxWidth=_ref.currentItemMaxWidth,children=_ref.children,child=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function(){return children instanceof Array?children:[children]},[children]),colChilds=(0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function(){var colHeightArray=Array.from({length:col}).map(function(){return 0}),colArray=Array.from({length:col}).map(function(){return[]});return child.forEach(function(item){var _item$props,_ratio,_colArray$currentMinI,_colArray$currentMinI2,ratio=item==null||(_item$props=item.props)===null||_item$props===void 0?void 0:_item$props.ratio;typeof ratio=="string"&&(ratio=eval(ratio));var minHeight=Math.min.apply(Math,_workspaces_h_design_node_modules_pnpm_babel_runtime_7_23_6_node_modules_babel_runtime_helpers_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_0___default()(colHeightArray)),currentMinIdx=colHeightArray.findIndex(function(x){return x===minHeight});colHeightArray[currentMinIdx]=colHeightArray[currentMinIdx]+1/((_ratio=ratio)!==null&&_ratio!==void 0?_ratio:1),(_colArray$currentMinI=colArray[currentMinIdx])===null||_colArray$currentMinI===void 0||(_colArray$currentMinI2=_colArray$currentMinI.push)===null||_colArray$currentMinI2===void 0||_colArray$currentMinI2.call(_colArray$currentMinI,item)}),colArray},[child,col]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{className:"flex",style:{gap},children:Array.from({length:col}).map(function(x,H){return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",{className:"flex",style:{gap,flexWrap:"nowrap",flexShrink:0,flexDirection:"column",width:"calc(".concat(100/col,"% - ").concat((col-1)*gap/col,"px)"),minWidth:currentItemMinWidth,maxWidth:currentItemMaxWidth},key:H,children:colChilds[H]})})})}__webpack_exports__.Z=useMasonryCards},63412:function(x,H,C){"use strict";C.r(H),C.d(H,{AutoRatioContainer:function(){return je},CheckContainer:function(){return $e},HighlightTextarea:function(){return Ke},Masonry:function(){return rt},ScrollContainer:function(){return ct},Sidebar:function(){return ft},SimpleImg:function(){return yt},Skeleton:function(){return Ct},Watermark:function(){return Ot},downloadBase64Imgs:function(){return on},getBase64Type:function(){return ke},getRandomColor:function(){return cn},isBase64Image:function(){return sn},useDebounce:function(){return be},useDebounceState:function(){return jt},useMutation:function(){return xe},useResize:function(){return le},useSticky:function(){return Bt},useThrottle:function(){return Xt},useThrottleState:function(){return Ft}});var F=C(82092),P=C.n(F),L=C(26068),M=C.n(L),z=C(48305),w=C.n(z);function G(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=G(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ne(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=G(e))&&(n&&(n+=" "),n+=t);return n}var $=ne,l=C(75271),I=C(52676),Ne=(0,l.forwardRef)(function(e,t){var r=e.ratio,n=r===void 0?1:r,a=e.children,c=e.className,u=c===void 0?"":c,s=e.boxStyle,o=e.boxClassName,i=o===void 0?"":o,d=e.style,h=(0,l.useRef)(null),f=(0,l.useRef)(null),v=(0,l.useState)("width"),m=w()(v,2),T=m[0],O=m[1],S=(0,l.useCallback)(function(E){var p,g,_=E.contentRect,b=_.width,R=_.height,W=(p=(g=E.target.firstChild).getBoundingClientRect)===null||p===void 0?void 0:p.call(g),A=W.width,y=W.height;O(function(){return n===1?b>R?"height":"width":R<=0?"height":b<=0?"width":b/R>A/y?"height":"width"})},[n]),k=le(S,h,{needRequestAnimationFrame:!1});return(0,l.useEffect)(function(){return function(){return k()}},[]),(0,l.useImperativeHandle)(t,function(){return{containerRef:h,boxRef:f}},[]),(0,I.jsx)("div",{className:$("auto-ratio-container",u),style:d,ref:h,children:(0,I.jsx)("div",{className:$("auto-ratio-box",i),style:M()(M()({},s!=null?s:{}),{},P()({aspectRatio:"".concat(n)},T,"100%")),children:a})})}),je=Ne,Le=(0,l.forwardRef)(function(e,t){var r=e.className,n=r===void 0?"":r,a=e.style,c=e.children,u=e.checked,s=u===void 0?!1:u,o=e.onClick,i=e.radius,d=i===void 0?8:i,h=e.strokeWidth,f=h===void 0?2:h,v=e.gap,m=v===void 0?2:v,T=e.size,O=T===void 0?16:T,S=e.type,k=S===void 0?"radio":S,E=e.mode,p=E===void 0?"checked":E,g=(0,l.useMemo)(function(){switch(k){case"radio":return(0,I.jsx)("div",{className:$("radio-check",{checked:s})});case"checkbox":return(0,I.jsx)("div",{className:$("checkbox-check",{checked:s})});default:return null}},[k,s]),_=(0,l.useMemo)(function(){if(!g)return null;switch(p){case"hover":return(0,I.jsx)("div",{className:"hover-element",children:g});case"checked":return(0,I.jsx)("div",{className:"check-element",style:{opacity:s?1:void 0},children:g});case"always":return(0,I.jsx)("div",{className:"always-element",children:g})}},[p,g]),b=(0,l.useRef)(null);return(0,l.useImperativeHandle)(t,function(){return{containerRef:b}},[]),(0,I.jsxs)("div",{className:$("check-container",n,{checked:s}),onClick:function(){return o==null?void 0:o(!s)},style:M()(M()({},a),{},{"--check-container-radius":"".concat(d,"px"),"--check-container-stoke":"".concat(f,"px"),"--check-container-gap":"".concat(m,"px"),"--check-container-size":"".concat(O,"px")}),ref:b,children:[c,_]})}),$e=Le,He=C(67825),pe=C.n(He);function Pe(e){var t=e.value,r=e.onChange,n=(0,l.useState)(t!=null?t:""),a=w()(n,2),c=a[0],u=a[1],s=(0,l.useCallback)(function(o){if(r)return r(o);u(o.target.value)},[r]);return(0,l.useEffect)(function(){return u(t)},[t]),{currentValue:c,handlerChange:s}}var Be=Pe,ze=C(15558),ae=C.n(ze);function De(e){var t=e.value,r=e.textareaRef,n=e.elementList,a=(0,l.useCallback)(function(u){u.target===u.currentTarget&&r.current&&(r.current.focus(),r.current.setSelectionRange(t.length,t.length))},[t]),c=(0,l.useCallback)(function(u){var s=window.getSelection(),o=ae()(u.currentTarget.children),i=o.findIndex(function(m){return m===u.target}),d=n.filter(function(m,T){return T<(i>-1?i:n.length-1)}).reduce(function(m,T){return m+T.msg.length},0);if(s&&s.rangeCount>0&&r.current){var h=s.getRangeAt(0),f=h.startOffset+d,v=h.endOffset+d;r.current.focus(),r.current.setSelectionRange(f,v)}},[n]);return{handlerContainerClick:a,handlerBoxClick:c}}var Xe=De,Ye=[];function Fe(e){var t=e.value,r=t===void 0?"":t,n=e.highlight,a=n===void 0?Ye:n,c=e.formatHighlight,u=(0,l.useMemo)(function(){var o=[];return ae()(r).reduce(function(i,d){i.str=i.str+d,o[i.idx]={type:i.type,msg:i.str};var h=a.some(function(f){return i.str.includes(f)?(i.type=f,!0):!1});return h&&(o[i.idx].msg=i.str.split(i.type)[0],o.push({type:i.type,msg:i.type}),i.idx=i.idx+2,i.str="",i.type="default"),i},{str:"",idx:0,type:"default"}),o},[r,a]),s=u.map(function(o,i){var d=null;switch(!0){case(u.length-1===i&&o.msg.includes(`
`)):{d=(0,I.jsxs)("span",{children:[o.msg,(0,I.jsx)("br",{})]});break}case o.type==="default":{d=(0,I.jsx)("span",{children:o.msg});break}case!!c:{d=c(o.msg);break}default:d=(0,I.jsx)("span",{style:{color:"blue"},children:o.msg})}return(0,I.jsx)(l.Fragment,{children:d},o.msg+i)});return{element:s,elementList:u}}var Ue=Fe,Ge=["className","style","value","onChange","highlight","formatHighlight"],Ve=(0,l.forwardRef)(function(e,t){var r=e.className,n=e.style,a=e.value,c=a===void 0?"":a,u=e.onChange,s=e.highlight,o=e.formatHighlight,i=pe()(e,Ge),d=(0,l.useRef)(null),h=(0,l.useRef)(null),f=(0,l.useRef)(null);(0,l.useImperativeHandle)(t,function(){return{textareaRef:d,textRef:f,containerRef:h}},[]);var v=Be({value:c,onChange:u}),m=v.currentValue,T=v.handlerChange,O=Ue({value:m,highlight:s,formatHighlight:o}),S=O.element,k=O.elementList,E=Xe({value:m,textareaRef:d,elementList:k}),p=E.handlerContainerClick,g=E.handlerBoxClick;return(0,I.jsx)("div",{className:$("highlight-textarea-container",r),style:n,onClick:p,ref:h,children:(0,I.jsxs)("div",{className:"highlight-textarea",children:[(0,I.jsx)("textarea",M()(M()({},i),{},{className:"highlight-textarea-textarea",onChange:T,value:m,ref:d})),(0,I.jsx)("div",{className:"highlight-textarea-box",onClick:g,contentEditable:"plaintext-only",suppressContentEditableWarning:!0,ref:f,children:S})]})})}),Ke=Ve,Ze=C(53679),Je=[];function Qe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Je,n=(0,l.useRef)({fn:e,timer:null}),a=n.current;(0,l.useEffect)(function(){a.fn=e},[e]);var c=(0,l.useCallback)(function(){for(var u=arguments.length,s=new Array(u),o=0;o<u;o++)s[o]=arguments[o];clearTimeout(a.timer),a.timer=setTimeout(function(){a.fn.apply(a,s)},t)},r);return c}var be=Qe;function qe(e){var t=e.currentItemMinWidth,r=e.gap,n=e.column,a=(0,l.useRef)(null),c=(0,l.useState)(1),u=w()(c,2),s=u[0],o=u[1],i=(0,l.useMemo)(function(){return n||s},[n,s]),d=be(function(v){o(v)},0,[]),h=(0,l.useCallback)(function(v){return d(Math.floor(v.contentRect.width/(t+r)))},[t,r,d]),f=le(h,a);return(0,l.useEffect)(function(){return function(){return f()}},[]),{containerRef:a,col:i}}var et=qe,tt=function(t){var r=t.className,n=t.style,a=t.options,c=t.children,u=a!=null?a:{},s=u.gap,o=s===void 0?0:s,i=u.itemWidth,d=u.itemMinWidth,h=d===void 0?300:d,f=u.itemMaxWidth,v=f===void 0?400:f,m=u.column,T=(0,l.useMemo)(function(){return{currentItemMaxWidth:i!=null?i:v,currentItemMinWidth:i!=null?i:h}},[i,v,h]),O=T.currentItemMaxWidth,S=T.currentItemMinWidth,k=et({currentItemMinWidth:S,gap:o,column:m}),E=k.containerRef,p=k.col,g=(0,Ze.Z)({gap:o,currentItemMaxWidth:O,currentItemMinWidth:S,children:c,col:p});return(0,I.jsx)("div",{className:$("masonry",r),style:n,ref:E,children:g})},rt=tt;function nt(e){var t=e.children,r=e.containerRef,n=(0,l.useState)({hasX:!1,hasY:!1}),a=w()(n,2),c=a[0],u=a[1],s=(0,l.useCallback)(function(){if(r.current){var o=r.current,i=o.scrollHeight,d=o.clientHeight,h=o.scrollWidth,f=o.clientWidth,v=h>f,m=i>d;u({hasX:v,hasY:m})}},[]);return(0,l.useEffect)(function(){if(r.current){s();var o=new ResizeObserver(function(i){return i.forEach(function(){return s()})});return o.observe(r.current),function(){return o.disconnect()}}},[t]),{hasScroll:c}}var at=nt;function ot(e){var t=e.children,r=e.containerRef,n=e.scrollThumbYRef,a=e.scrollThumbXRef,c=e.gap,u=e.size,s=(0,l.useRef)(!1),o=(0,l.useRef)({X:0,Y:0}),i=(0,l.useRef)(0),d=(0,l.useRef)(0),h=(0,l.useRef)(null),f=(0,l.useMemo)(function(){return c+u},[c,u]),v=(0,l.useRef)(4),m=(0,l.useCallback)(function(){if(!(!r.current||!n.current||!a.current)){var p=r.current,g=p.scrollTop,_=p.scrollLeft,b=p.clientHeight,R=p.clientWidth,W=p.scrollHeight,A=p.scrollWidth,y=W-b,j=A-R,N=g/y*i.current,D=_/j*d.current;n.current.style.top="".concat(Math.min(Math.max(N,v.current),i.current),"px"),a.current.style.left="".concat(Math.min(Math.max(D,v.current),d.current),"px")}},[]);(0,l.useEffect)(function(){if(!(!r.current||!n.current||!a.current)){var p=r.current,g=p.offsetHeight,_=p.offsetWidth,b=p.scrollHeight,R=p.scrollWidth,W=g*(g/b),A=_*(_/R);i.current=g-W-f,d.current=_-A-f,a.current.style.width="".concat(A,"px"),n.current.style.height="".concat(W,"px"),m()}},[t,f]);var T=function(g){if(s.current&&r.current){var _=r.current,b=_.clientHeight,R=_.clientWidth,W=_.scrollHeight,A=_.scrollWidth,y=W-b,j=A-R;if(g.preventDefault(),h.current==="Y"){var N=g.pageY-o.current.Y,D=N/i.current*y;console.log(D),r.current.scrollTop=D}else if(h.current==="X"){var X=g.pageX-o.current.X,B=X/d.current*j;r.current.scrollLeft=B}}},O=function p(){var g,_;s.current=!1,h.current=null,(g=n.current)===null||g===void 0||g.classList.remove("active"),(_=a.current)===null||_===void 0||_.classList.remove("active"),document.removeEventListener("mousemove",T),document.removeEventListener("mouseup",p)},S=function(g){!n.current||!a.current||(g.preventDefault(),s.current=!0,o.current={X:g.pageX-a.current.offsetLeft,Y:g.pageY-n.current.offsetTop},document.addEventListener("mousemove",T),document.addEventListener("mouseup",O))},k=(0,l.useCallback)(function(p){var g;h.current="Y",(g=n.current)===null||g===void 0||g.classList.add("active"),S(p)},[S]),E=(0,l.useCallback)(function(p){var g;h.current="X",(g=a.current)===null||g===void 0||g.classList.add("active"),S(p)},[S]);return{scrollThumbX:a,scrollThumbY:n,onThumbX:E,onThumbY:k,handlerScroll:m}}var it=ot,_e={gap:4,size:4,background:"#000",border:"none",radius:999,opacity:1},ut=(0,l.forwardRef)(function(e,t){var r=e.className,n=e.style,a=e.containerStyle,c=e.containerClassName,u=e.thumbOptions,s=u===void 0?_e:u,o=e.hoverThumbOptions,i=e.children,d=M()(M()({},_e),s),h=(0,l.useMemo)(function(){var _=function(R){return typeof R=="number"?"".concat(R,"px"):R};return M()({"--scroll-thumb-gap":_(d.gap),"--scroll-thumb-size":_(d.size),"--scroll-thumb-border-radius":_(d.radius),"--scroll-thumb-background":d.background,"--scroll-thumb-border":d.border,"--scroll-thumb-opacity":d.opacity,"--scroll-thumb-hover-gap":_(o==null?void 0:o.gap),"--scroll-thumb-hover-size":_(o==null?void 0:o.size),"--scroll-thumb-hover-border-radius":_(o==null?void 0:o.radius),"--scroll-thumb-hover-background":o==null?void 0:o.background,"--scroll-thumb-hover-border":o==null?void 0:o.border,"--scroll-thumb-hover-opacity":o==null?void 0:o.opacity},n)},[s,n,o,d]),f=(0,l.useRef)(null),v=at({children:i,containerRef:f}),m=v.hasScroll,T=(0,l.useRef)(null),O=(0,l.useRef)(null),S=it({children:i,containerRef:f,scrollThumbXRef:T,scrollThumbYRef:O,gap:d.gap,size:d.size}),k=S.onThumbX,E=S.onThumbY,p=S.handlerScroll,g=(0,l.useRef)(null);return(0,l.useImperativeHandle)(t,function(){return{mainRef:g,containerRef:f,scrollThumbXRef:T,scrollThumbYRef:O}},[]),(0,I.jsxs)("div",{className:$("scroll-container",r),style:h,ref:g,children:[(0,I.jsx)("div",{className:$("scroll-container-content",c),style:a,onScroll:p,ref:f,children:i}),(0,I.jsx)("div",{className:$("scroll-thumb scroll-thumb-y",{show:m.hasY}),onMouseDown:E,ref:O}),(0,I.jsx)("div",{className:$("scroll-thumb scroll-thumb-x",{show:m.hasX}),onMouseDown:k,ref:T})]})}),ct=ut;function lt(e){return e==null}var ue=lt,st=C(30967),dt=function(t){var r=t.className,n=r===void 0?"":r,a=t.style,c=t.target,u=t.direction,s=u===void 0?"vertical":u,o=t.itemOptions,i=t.placement,d=i===void 0?"right":i,h=t.alignment,f=h===void 0?"end":h,v=t.offset,m=t.zIndex,T=t.children,O=(0,l.useState)(document.body),S=w()(O,2),k=S[0],E=S[1];(0,l.useEffect)(function(){if(!ue(c)){if(c!=null&&c.current)return E(c==null?void 0:c.current);E(c)}},[c]);var p=(0,l.useMemo)(function(){return P()({},ue(m)?"":"--sidebar-zIndex",m)},[m]),g=(0,l.useMemo)(function(){var y={};switch(d){case"right":y.alignItems="end";case"left":{switch(y.height="100%",y.width="0px",y.flexDirection="column",f){case"start":y.justifyContent="start";break;case"center":y.justifyContent="center";break;case"end":y.justifyContent="end";break}break}case"bottom":y.alignItems="end";case"top":switch(y.width="100%",y.height="0px",f){case"start":y.justifyContent="start";break;case"center":y.justifyContent="center";break;case"end":y.justifyContent="end";break}}return y[d]=0,y},[d,f]),_=(0,l.useMemo)(function(){return M()(M()(M()({},p),g),a)},[p,g,a]),b=o!=null?o:{},R=b.gap,W=(0,l.useMemo)(function(){return P()({},ue(R)?"":"--sidebar-item-gap","".concat(R,"px"))},[R]),A=(0,l.useMemo)(function(){if(!v)return{};var y=v.top,j=v.left,N=v.bottom,D=v.right;return{transform:"translate(".concat(j!=null?j:D?-D:0,"px, ").concat(y!=null?y:N?-N:0,"px)")}},[v]);return(0,st.createPortal)((0,I.jsx)("div",{className:$("sidebar",n),style:_,children:(0,I.jsx)("div",{className:"sidebar-".concat(s),style:M()(M()({},W),A),children:T})}),k)},ft=dt;function vt(e){for(var t=e.parentElement;t;){if(t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth)return t;t=t.parentElement}return document}function ht(e){var t=e.imgRef,r=e.src;(0,l.useEffect)(function(){if(!(!t.current||r===void 0)){var n=function(s){s.forEach(function(o){if(o.isIntersecting){var i;(i=t.current)===null||i===void 0||i.setAttribute("src",r)}})},a=vt(t.current),c=new IntersectionObserver(n,{root:a,threshold:[0]});return c.observe(t.current),function(){return c.disconnect()}}},[r])}var mt=ht;function gt(e){var t=e.imgRef,r=e.src,n=(0,l.useState)(!0),a=w()(n,2),c=a[0],u=a[1],s=function(){return u(!1)},o=function(){u(!1)};return(0,l.useEffect)(function(){if(t.current)return u(!0),t.current.getAttribute("src")&&t.current.complete&&u(!1),t.current.addEventListener("load",s),t.current.addEventListener("error",o),function(){var i,d;(i=t.current)===null||i===void 0||i.removeEventListener("load",s),(d=t.current)===null||d===void 0||d.removeEventListener("error",o)}},[r]),{loading:c}}var pt=gt,bt=["className","src","style","wrapClassName","wrapStyle","radius"],_t=function(t){var r=t.className,n=t.src,a=t.style,c=t.wrapClassName,u=t.wrapStyle,s=t.radius,o=s===void 0?6:s,i=pe()(t,bt),d=(0,l.useRef)(null);mt({src:n,imgRef:d});var h=pt({src:n,imgRef:d}),f=h.loading,v=(0,l.useMemo)(function(){return M()({objectFit:"cover",imageRendering:"pixelated",opacity:f?0:1,borderRadius:o},a)},[a,f,o]),m=(0,l.useMemo)(function(){return M()({pointerEvents:f?"none":void 0,userSelect:f?"none":void 0,backgroundColor:f?"rgba(0, 0, 0, 0.06)":"transparent",borderRadius:o},u)},[f,u,o]);return(0,I.jsx)("div",{className:$("simple-img-wrap",c),style:m,children:(0,I.jsx)("img",M()({className:$("simple-img",r),style:v,draggable:!1,loading:"lazy",ref:d},i))})},yt=_t,xt=function(t){var r=t.className,n=t.style,a=t.radius,c=t.width,u=t.height,s=(0,l.useMemo)(function(){return M()(M()({},n),{},{width:c!=null?c:"var(--skeleton-width)",height:u!=null?u:"var(--skeleton-height)",borderRadius:a!=null?a:"var(--skeleton-radius)"})},[n,a,c,u]);return(0,I.jsx)("div",{className:$("skeleton",r),style:s})},Ct=xt;function Mt(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}function Rt(e){return Object.keys(e).map(function(t){return"".concat(Mt(t),": ").concat(e[t],";")}).join(" ")}function St(){return window.devicePixelRatio||1}var Tt=function(t,r){var n=!1;return t.removedNodes.length&&r&&(n=Array.from(t.removedNodes).includes(r)),t.type==="attributes"&&t.target===r&&(n=!0),n},kt=function(t){var r,n,a=t.zIndex,c=t.gapX,u=t.gapY,s=t.offset,o=c/2,i=u/2,d=(r=s==null?void 0:s[0])!==null&&r!==void 0?r:o,h=(n=s==null?void 0:s[1])!==null&&n!==void 0?n:i,f={zIndex:a,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"},v=d-o,m=h-i;return v>0&&(f.left="".concat(v,"px"),f.width="calc(100% - ".concat(v,"px)"),v=0),m>0&&(f.top="".concat(m,"px"),f.height="calc(100% - ".concat(m,"px)"),m=0),f.backgroundPosition="".concat(v,"px ").concat(m,"px"),f},ye=3,It=function(t,r){var n=r.fontOption,a=r.content,c=r.image,u=r.width,s=r.height,o=120,i=64;if(!c&&t.measureText){t.font="".concat(n.fontSize,"px ").concat(n.fontFamily);var d=Array.isArray(a)?a:[a],h=d.map(function(f){var v=t.measureText(f);return[v.width,v.fontBoundingBoxAscent!==void 0?v.fontBoundingBoxAscent+v.fontBoundingBoxDescent:v.actualBoundingBoxAscent+v.actualBoundingBoxDescent]});o=Math.ceil(Math.max.apply(Math,ae()(h.map(function(f){return f[0]})))),i=Math.ceil(Math.max.apply(Math,ae()(h.map(function(f){return f[1]}))))*d.length+(d.length-1)*ye}return[u!=null?u:o,s!=null?s:i]},Et=It;function ce(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,n=document.createElement("canvas"),a=n.getContext("2d"),c=e*r,u=t*r;return n.setAttribute("width","".concat(c,"px")),n.setAttribute("height","".concat(u,"px")),a.save(),[a,n,c,u]}function At(e,t,r,n,a,c,u,s){var o=ce(n,a,r),i=w()(o,4),d=i[0],h=i[1],f=i[2],v=i[3];if(e instanceof HTMLImageElement)d.drawImage(e,0,0,f,v);else{var m=c.color,T=c.fontSize,O=c.fontStyle,S=c.fontWeight,k=c.fontFamily,E=c.textAlign,p=c.textBaseline,g=Number(T)*r;d.font="".concat(O," normal ").concat(S," ").concat(g,"px/").concat(a,"px ").concat(k),d.fillStyle=m,d.textAlign=E,d.textBaseline=p;var _=Array.isArray(e)?e:[e];_==null||_.forEach(function(Y,U){d.fillText(Y!=null?Y:"",f/2,U*(g+ye*r))})}var b=Math.PI/180*Number(t),R=Math.max(n,a),W=ce(R,R,r),A=w()(W,3),y=A[0],j=A[1],N=A[2];y.translate(N/2,N/2),y.rotate(b),f>0&&v>0&&y.drawImage(h,-f/2,-v/2);function D(Y,U){var me=Y*Math.cos(b)-U*Math.sin(b),ge=Y*Math.sin(b)+U*Math.cos(b);return[me,ge]}var X=0,B=0,q=0,ee=0,Z=f/2,K=v/2,se=[[0-Z,0-K],[0+Z,0-K],[0+Z,0+K],[0-Z,0+K]];se.forEach(function(Y){var U=w()(Y,2),me=U[0],ge=U[1],mn=D(me,ge),we=w()(mn,2),We=we[0],Oe=we[1];X=Math.min(X,We),B=Math.max(B,We),q=Math.min(q,Oe),ee=Math.max(ee,Oe)});var de=X+N/2,dn=q+N/2,te=B-X,re=ee-q,fe=u*r,ve=s*r,Ie=(te+fe)*2,Ee=re+ve,fn=ce(Ie,Ee),Ae=w()(fn,2),vn=Ae[0],hn=Ae[1];function he(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;vn.drawImage(j,de,dn,te,re,Y,U,te,re)}return he(),he(te+fe,-re/2-ve/2),he(te+fe,+re/2+ve/2),[hn.toDataURL(),Ie/r,Ee/r]}var wt=At,Wt=function(t){var r=t.font,n=t.gap,a=t.offset,c=t.zIndex,u=c===void 0?10:c,s=t.width,o=t.height,i=t.rotate,d=i===void 0?-45:i,h=t.image,f=t.content,v=t.children,m=(0,l.useMemo)(function(){var b,R,W,A,y,j,N;return{color:(b=r==null?void 0:r.color)!==null&&b!==void 0?b:"rgba(0,0,0,.1)",fontSize:(R=r==null?void 0:r.fontSize)!==null&&R!==void 0?R:18,fontStyle:(W=r==null?void 0:r.fontStyle)!==null&&W!==void 0?W:"normal",fontWeight:(A=r==null?void 0:r.fontWeight)!==null&&A!==void 0?A:"normal",fontFamily:(y=r==null?void 0:r.fontFamily)!==null&&y!==void 0?y:"sans-serif",textAlign:(j=r==null?void 0:r.textAlign)!==null&&j!==void 0?j:"center",textBaseline:(N=r==null?void 0:r.textBaseline)!==null&&N!==void 0?N:"hanging"}},[r]),T=(0,l.useMemo)(function(){var b;return(b=n==null?void 0:n[0])!==null&&b!==void 0?b:100},[n]),O=(0,l.useMemo)(function(){var b;return(b=n==null?void 0:n[1])!==null&&b!==void 0?b:100},[n]),S=(0,l.useRef)(null),k=(0,l.useRef)(),E=(0,l.useRef)(!1),p=function(){k.current&&(k.current.remove(),k.current=void 0)},g=function(R,W){if(S.current&&k.current){var A;E.current=!0,k.current.setAttribute("style",Rt(M()(M()({},kt({zIndex:u,gapX:T,gapY:O,offset:a})),{},{backgroundImage:"url('".concat(R,"')"),backgroundSize:"".concat(Math.floor(W),"px")}))),(A=S.current)===null||A===void 0||A.append(k.current),setTimeout(function(){E.current=!1})}},_=function(){var R=document.createElement("canvas"),W=R.getContext("2d");if(W){k.current||(k.current=document.createElement("div"));var A=St(),y=Et(W,{fontOption:m,content:f,image:h,width:s,height:o}),j=w()(y,2),N=j[0],D=j[1],X=function(ee){var Z=wt(ee||"",d,A,N,D,M()({},m),T,O),K=w()(Z,2),se=K[0],de=K[1];g(se,de)};if(h){var B=new Image;B.onload=function(){X(B)},B.onerror=function(){X(f)},B.crossOrigin="anonymous",B.referrerPolicy="no-referrer",B.src=h}else X(f)}};return xe(function(b){E.current||Tt(b,k.current)&&(p(),_())},S,{attributes:!0,subtree:!0,childList:!0}),(0,l.useEffect)(function(){return p},[]),(0,l.useEffect)(_,[r,n,a,u,d,f,h,m]),(0,I.jsx)("div",{className:"watermark",ref:S,children:v})},Ot=Wt;function Nt(e,t){var r=(0,l.useRef)(),n=(0,l.useState)(e),a=w()(n,2),c=a[0],u=a[1],s=(0,l.useCallback)(function(i){clearTimeout(r.current),r.current=setTimeout(function(){return u(function(d){return typeof i=="function"?i(d):e})},t)},[t,e]),o=(0,l.useCallback)(function(i){r.current&&clearTimeout(r.current),u(function(d){return typeof i=="function"?i(d):e})},[e]);return[c,s,o]}var jt=Nt;function Lt(e,t,r){var n,a=(0,l.useRef)();return(0,l.useEffect)(function(){if(t.current)n=t.current;else if(t instanceof Element)n=t;else return;return a.current=new MutationObserver(function(c){c.forEach(function(u){e(u,a.current)})}),a.current.observe(n,r),function(){var c;n&&((c=a.current)===null||c===void 0||c.disconnect())}},[e,r,t]),function(){var c;!n||!a||(c=a.current)===null||c===void 0||c.disconnect()}}var xe=Lt,J=new WeakMap,V;function $t(e,t,r){var n=r!=null?r:{},a=n.needRequestAnimationFrame,c=a===void 0?!0:a,u;return(0,l.useEffect)(function(){if(u=t.current?t.current:t,!!u)return V||(V=new ResizeObserver(function(s){s.forEach(function(o){var i=!!(c&&requestAnimationFrame);i?requestAnimationFrame(function(){return J.get(o.target)(o,V)}):J.get(o.target)(o,V)})})),J.set(u,e),V.observe(u),function(){u&&(J.delete(u),V.unobserve(u))}},[e,r]),function(){u&&(J.delete(u),V.unobserve(u))}}var le=$t;function Ht(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"both",r=e.parentElement;r;){if(t==="vertical"&&r.scrollHeight>r.clientHeight||t==="horizontal"&&r.scrollWidth>r.clientWidth||t==="both"&&(r.scrollHeight>r.clientHeight||r.scrollWidth>r.clientWidth))return r;r=r.parentElement}return document.body}function Pt(e){var t=e.top,r=t===void 0?0:t,n=e.left,a=n===void 0?0:n,c=e.direction,u=c===void 0?"vertical":c,s=(0,l.useRef)(null),o=(0,l.useRef)(null),i=(0,l.useRef)("0"),d=(0,l.useRef)("0");return(0,l.useLayoutEffect)(function(){var h;if(s.current){var f=(h=o.current)!==null&&h!==void 0?h:Ht(s.current,u),v=f.getBoundingClientRect(),m=v.top,T=v.left,O=s.current.getBoundingClientRect(),S=O.top,k=O.left,E=function(){if(s.current){var _=f.scrollTop,b=f.scrollLeft,R=function(){return i.current=S-m-_<=r?"".concat(-S+m+_+r,"px"):"0px"},W=function(){return d.current=k-T-b<=a?"".concat(-k+T+b+a,"px"):"0px"};switch(u){case"vertical":R();break;case"horizontal":W();break;case"both":R(),W()}s.current.style.transform="translate(".concat(d.current,", ").concat(i.current,")")}},p=requestAnimationFrame?function(){return requestAnimationFrame(E)}:E;return f.addEventListener("scroll",p),function(){return f.removeEventListener("scroll",p)}}},[r]),{stickyElement:s,scrollElement:o}}var Bt=Pt,zt=[];function Dt(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zt,n=(0,l.useRef)({fn:e,timer:null}),a=n.current;(0,l.useEffect)(function(){a.fn=e},[e]);var c=(0,l.useCallback)(function(){for(var u=arguments.length,s=new Array(u),o=0;o<u;o++)s[o]=arguments[o];a.timer||(a.timer=setTimeout(function(){clearTimeout(a.timer),a.timer=null,a.fn.apply(a,s)},t))},r);return c}var Xt=Dt;function Yt(e,t){var r=(0,l.useRef)(),n=(0,l.useState)(e),a=w()(n,2),c=a[0],u=a[1],s=(0,l.useCallback)(function(i){r.current||(r.current=setTimeout(function(){clearTimeout(r.current),r.current=void 0,u(function(d){return typeof i=="function"?i(d):i})},t))},[t,e]),o=(0,l.useCallback)(function(i){r.current&&(clearTimeout(r.current),r.current=void 0),u(function(d){return typeof i=="function"?i(d):i})},[e]);return[c,s,o]}var Ft=Yt;function Ut(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var c=Array(a);++n<a;)c[n]=e[n+t];return c}var Gt=Ut;function Vt(e,t){return e===t||e!==e&&t!==t}var Kt=Vt,Zt=typeof global=="object"&&global&&global.Object===Object&&global,Jt=Zt,Qt=typeof self=="object"&&self&&self.Object===Object&&self,qt=Jt||Qt||Function("return this")(),er=qt,tr=er.Symbol,oe=tr,Ce=Object.prototype,rr=Ce.hasOwnProperty,nr=Ce.toString,Q=oe?oe.toStringTag:void 0;function ar(e){var t=rr.call(e,Q),r=e[Q];try{e[Q]=void 0;var n=!0}catch(c){}var a=nr.call(e);return n&&(t?e[Q]=r:delete e[Q]),a}var or=ar,ir=Object.prototype,ur=ir.toString;function cr(e){return ur.call(e)}var lr=cr,sr="[object Null]",dr="[object Undefined]",Me=oe?oe.toStringTag:void 0;function fr(e){return e==null?e===void 0?dr:sr:Me&&Me in Object(e)?or(e):lr(e)}var Re=fr;function vr(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ie=vr,hr="[object AsyncFunction]",mr="[object Function]",gr="[object GeneratorFunction]",pr="[object Proxy]";function br(e){if(!ie(e))return!1;var t=Re(e);return t==mr||t==gr||t==hr||t==pr}var _r=br,yr=9007199254740991;function xr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=yr}var Cr=xr;function Mr(e){return e!=null&&Cr(e.length)&&!_r(e)}var Rr=Mr,Sr=9007199254740991,Tr=/^(?:0|[1-9]\d*)$/;function kr(e,t){var r=typeof e;return t=t==null?Sr:t,!!t&&(r=="number"||r!="symbol"&&Tr.test(e))&&e>-1&&e%1==0&&e<t}var Ir=kr;function Er(e,t,r){if(!ie(r))return!1;var n=typeof t;return(n=="number"?Rr(r)&&Ir(t,r.length):n=="string"&&t in r)?Kt(r[t],e):!1}var Ar=Er,wr=/\s/;function Wr(e){for(var t=e.length;t--&&wr.test(e.charAt(t)););return t}var Or=Wr,Nr=/^\s+/;function jr(e){return e&&e.slice(0,Or(e)+1).replace(Nr,"")}var Lr=jr;function $r(e){return e!=null&&typeof e=="object"}var Hr=$r,Pr="[object Symbol]";function Br(e){return typeof e=="symbol"||Hr(e)&&Re(e)==Pr}var zr=Br,Se=NaN,Dr=/^[-+]0x[0-9a-f]+$/i,Xr=/^0b[01]+$/i,Yr=/^0o[0-7]+$/i,Fr=parseInt;function Ur(e){if(typeof e=="number")return e;if(zr(e))return Se;if(ie(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ie(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Lr(e);var r=Xr.test(e);return r||Yr.test(e)?Fr(e.slice(2),r?2:8):Dr.test(e)?Se:+e}var Gr=Ur,Te=1/0,Vr=17976931348623157e292;function Kr(e){if(!e)return e===0?e:0;if(e=Gr(e),e===Te||e===-Te){var t=e<0?-1:1;return t*Vr}return e===e?e:0}var Zr=Kr;function Jr(e){var t=Zr(e),r=t%1;return t===t?r?t-r:t:0}var Qr=Jr,qr=Math.ceil,en=Math.max;function tn(e,t,r){(r?Ar(e,t,r):t===void 0)?t=1:t=en(Qr(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,c=0,u=Array(qr(n/t));a<n;)u[c++]=Gt(e,a,a+=t);return u}var rn=tn;function nn(e){if(!e.startsWith("data:image/"))return"Invalid base64 string";var t=e.substring(e.indexOf("image/")+6,e.indexOf(";"));switch(t){case"svg+xml":return"svg";case"x-icon":return"ico";case"vnd.microsoft.icon":return"ico";default:return t}}var ke=nn;function an(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.name,n=r===void 0?"image_":r,a=t.mimeType,c=t.chunkSize,u=c===void 0?5:c,s=1,o=0,i=function(v){var m=document.createElement("a");m.href=v,m.download="".concat(n).concat(s,".").concat(a!=null?a:ke(v)),document.body.appendChild(m),m.click(),document.body.removeChild(m),s++},d=rn(e,u),h=setInterval(function(){d[o].forEach(i),o+=1,o>d.length-1&&clearInterval(h)},1e3)}var on=an;function un(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"hex",t=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:255;return Math.floor(Math.random()*c)},r=function(){return t(360)},n=function(){return"".concat(t(100),"%")};switch(e){case"hex":return"#".concat(Math.floor(Math.random()*16777215).toString(16).padStart(6,"0"));case"rgb":return"rgb(".concat(t(),",").concat(t(),", ").concat(t(),")");case"hsl":return"hsl(".concat(r(),",").concat(n(),"%, ").concat(n(),"%)");case"hsv":return"hsv(".concat(r(),",").concat(n(),"%, ").concat(n(),"%)");default:return"#000000"}}var cn=un;function ln(e){if(typeof e!="string"||e.trim().length===0)return!1;var t=/^data:image\/(png|jpeg|gif|bmp|svg\+xml|jpg|webp);base64,(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/;return t.test(e)}var sn=ln},38498:function(x,H,C){var F=C(78770);function P(L){if(Array.isArray(L))return F(L)}x.exports=P,x.exports.__esModule=!0,x.exports.default=x.exports},20698:function(x){function H(C){if(typeof Symbol!="undefined"&&C[Symbol.iterator]!=null||C["@@iterator"]!=null)return Array.from(C)}x.exports=H,x.exports.__esModule=!0,x.exports.default=x.exports},91162:function(x){function H(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}x.exports=H,x.exports.__esModule=!0,x.exports.default=x.exports},67825:function(x,H,C){var F=C(64382);function P(L,M){if(L==null)return{};var z=F(L,M),w,G;if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(L);for(G=0;G<ne.length;G++)w=ne[G],!(M.indexOf(w)>=0)&&Object.prototype.propertyIsEnumerable.call(L,w)&&(z[w]=L[w])}return z}x.exports=P,x.exports.__esModule=!0,x.exports.default=x.exports},64382:function(x){function H(C,F){if(C==null)return{};var P={},L=Object.keys(C),M,z;for(z=0;z<L.length;z++)M=L[z],!(F.indexOf(M)>=0)&&(P[M]=C[M]);return P}x.exports=H,x.exports.__esModule=!0,x.exports.default=x.exports},15558:function(x,H,C){var F=C(38498),P=C(20698),L=C(31479),M=C(91162);function z(w){return F(w)||P(w)||L(w)||M()}x.exports=z,x.exports.__esModule=!0,x.exports.default=x.exports}}]);
